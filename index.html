<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>n8n Website Scam Risk Detector - Infographic</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Roboto+Mono:wght@500&display=swap" rel="stylesheet">

    <!-- Embedded CSS for specific constraints -->
    <style>
        /* Palette Selection: "Brilliant Blues/Cyber Security" 
           Primary: #4F46E5 (Indigo 600)
           Secondary: #06B6D4 (Cyan 500)
           Accent: #E11D48 (Rose 600)
           Background: #F8FAFC (Slate 50)
           Surface: #FFFFFF (White)
        */

        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8FAFC; /* Slate 50 */
            color: #1E293B; /* Slate 800 */
        }

        h1, h2, h3 {
            color: #1E1B4B; /* Indigo 950 */
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        .gradient-text {
            background: linear-gradient(135deg, #4F46E5 0%, #06B6D4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 1.5rem;
            transition: transform 0.2s ease-in-out;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Custom Flowchart Connector Styles (CSS Only, No SVG) */
        .flow-line {
            width: 2px;
            background-color: #CBD5E1; /* Slate 300 */
            margin: 0 auto;
            height: 20px;
        }
        .flow-arrow {
            width: 0; 
            height: 0; 
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #CBD5E1;
            margin: 0 auto;
        }
    </style>
</head>
<body class="antialiased">

    <!-- HTML Comment: Narrative Plan 
        1. Intro: Problem (Scams) -> Solution (n8n AI Agent).
        2. Architecture: Visual flow of the 4 nodes.
        3. Components: Doughnut chart of system parts.
        4. Analysis Factors: Radar chart of what AI checks.
        5. Efficiency: Bar chart comparing manual vs AI.
        6. Implementation: Timeline of setup phases.
    -->

    <!-- HTML Comment: Selected Palette 
        Name: Brilliant Tech Blues
        Hex: #4F46E5 (Primary), #06B6D4 (Secondary), #E11D48 (Accent)
    -->

    <!-- Header / Hero Section -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <span class="text-2xl font-bold tracking-tight text-indigo-600">n8n<span class="text-cyan-500">.io</span></span>
                <span class="bg-slate-100 text-slate-600 px-2 py-1 rounded text-xs font-mono">Infographic</span>
            </div>
            <nav class="hidden md:flex space-x-8 text-sm font-medium text-slate-500">
                <a href="#architecture" class="hover:text-indigo-600 transition">Architecture</a>
                <a href="#analysis" class="hover:text-indigo-600 transition">Analysis Logic</a>
                <a href="#performance" class="hover:text-indigo-600 transition">Performance</a>
            </nav>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-20">

        <!-- Section 1: Introduction -->
        <section class="text-center max-w-4xl mx-auto">
            <h1 class="text-5xl font-extrabold mb-6">
                Automating Trust: <br>
                <span class="gradient-text">The Website Scam Risk Detector</span>
            </h1>
            <p class="text-xl text-slate-600 leading-relaxed mb-8">
                In an era of sophisticated phishing, manual verification is too slow. 
                Using <strong>n8n's AI Agent</strong>, <strong>GPT-4o</strong>, and <strong>SerpAPI</strong>, 
                we can build an autonomous investigator that researches, analyzes, and scores website reputation in seconds.
            </p>
            <div class="flex justify-center gap-4">
                <div class="bg-indigo-50 px-6 py-3 rounded-lg border border-indigo-100">
                    <span class="block text-2xl font-bold text-indigo-600">GPT-4o</span>
                    <span class="text-xs text-indigo-800 uppercase tracking-wide">The Brain</span>
                </div>
                <div class="bg-cyan-50 px-6 py-3 rounded-lg border border-cyan-100">
                    <span class="block text-2xl font-bold text-cyan-600">SerpAPI</span>
                    <span class="text-xs text-cyan-800 uppercase tracking-wide">The Tool</span>
                </div>
                <div class="bg-rose-50 px-6 py-3 rounded-lg border border-rose-100">
                    <span class="block text-2xl font-bold text-rose-600">n8n</span>
                    <span class="text-xs text-rose-800 uppercase tracking-wide">The Flow</span>
                </div>
            </div>
        </section>

        <!-- Section 2: System Architecture (HTML Flowchart) -->
        <!-- HTML Comment: Goal: Organize. Visualization: Custom HTML Grid Flowchart. Justification: Shows process clearly without SVG. -->
        <section id="architecture">
            <div class="mb-8 border-l-4 border-indigo-500 pl-4">
                <h2 class="text-3xl font-bold mb-2">System Architecture</h2>
                <p class="text-slate-600">
                    The workflow utilizes the modern <strong>AI Agent Node</strong> architecture. Unlike linear chains, this agent "thinks" dynamically, deciding when to call the search tool based on the user's URL input.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-4 gap-4 items-center justify-items-center relative p-8 bg-white rounded-2xl shadow-lg border border-slate-100">
                
                <!-- Node 1 -->
                <div class="flex flex-col items-center w-full">
                    <div class="w-full bg-slate-800 text-white p-6 rounded-xl shadow-md text-center border-b-4 border-indigo-500">
                        <div class="text-2xl mb-2">üí¨</div>
                        <h3 class="font-bold">Trigger Node</h3>
                        <p class="text-xs text-slate-400 mt-2">Chat or Webhook</p>
                        <p class="text-xs text-slate-300">Receives URL</p>
                    </div>
                    <div class="lg:hidden flow-line"></div><div class="lg:hidden flow-arrow"></div>
                </div>

                <!-- Connector (Desktop) -->
                <div class="hidden lg:block text-slate-300 text-2xl">‚ûî</div>

                <!-- Node 2 (The Core) -->
                <div class="flex flex-col items-center w-full relative">
                    <div class="w-full bg-indigo-600 text-white p-6 rounded-xl shadow-lg text-center transform scale-105 z-10">
                        <div class="text-2xl mb-2">ü§ñ</div>
                        <h3 class="font-bold">AI Agent Node</h3>
                        <p class="text-xs text-indigo-200 mt-2">The Orchestrator</p>
                        <p class="text-xs text-white">"Conversational Agent"</p>
                    </div>
                    
                    <!-- Sub Nodes Visual -->
                    <div class="absolute -bottom-24 left-0 right-0 flex justify-between px-2 w-full">
                        <div class="w-1/2 pr-1">
                            <div class="h-8 border-l-2 border-dashed border-indigo-300 ml-8"></div>
                            <div class="bg-white border border-indigo-200 p-2 rounded text-xs shadow text-center">
                                <span class="font-bold text-indigo-700">OpenAI Model</span><br>
                                <span class="text-gray-500">GPT-4o (Temp 0.2)</span>
                            </div>
                        </div>
                        <div class="w-1/2 pl-1">
                            <div class="h-8 border-r-2 border-dashed border-cyan-300 mr-8"></div>
                            <div class="bg-white border border-cyan-200 p-2 rounded text-xs shadow text-center">
                                <span class="font-bold text-cyan-700">SerpAPI Tool</span><br>
                                <span class="text-gray-500">Google Search</span>
                            </div>
                        </div>
                    </div>
                </div>

                 <!-- Connector (Desktop) -->
                 <div class="hidden lg:block text-slate-300 text-2xl ml-8">‚ûî</div>

                <!-- Node 3 -->
                <div class="flex flex-col items-center w-full mt-24 lg:mt-0">
                    <div class="w-full bg-white border-2 border-green-500 text-slate-800 p-6 rounded-xl shadow-md text-center">
                        <div class="text-2xl mb-2">üìä</div>
                        <h3 class="font-bold">Output Report</h3>
                        <p class="text-xs text-slate-500 mt-2">Structured JSON</p>
                        <ul class="text-xs text-left mt-2 pl-4 list-disc text-slate-600">
                            <li>Risk Score (0-100)</li>
                            <li>Verdict</li>
                            <li>Pros & Cons</li>
                        </ul>
                    </div>
                </div>

            </div>
            <p class="text-center text-xs text-slate-400 mt-4 italic">
                *The AI Agent connects dynamically to the Model and Tool nodes.
            </p>
        </section>

        <!-- Section 3: Logic & Analysis Factors -->
        <section id="analysis" class="grid grid-cols-1 md:grid-cols-2 gap-8">
            
            <!-- Analysis Radar Chart -->
            <!-- HTML Comment: Goal: Relationships. Visualization: Radar Chart. Justification: Shows multiple dimensions of analysis simultaneously. Chart.js used. NO SVG. -->
            <div class="card flex flex-col">
                <div class="mb-4">
                    <h3 class="text-xl font-bold text-indigo-900">What the AI Analyzes</h3>
                    <p class="text-sm text-slate-500">
                        The System Prompt instructs the AI to evaluate five specific dimensions before assigning a risk score.
                    </p>
                </div>
                <div class="flex-grow flex items-center justify-center">
                    <div class="chart-container">
                        <canvas id="radarChart"></canvas>
                    </div>
                </div>
                <div class="mt-4 text-xs text-slate-400 text-center">
                    Data represents the weighting of importance in the AI's decision logic.
                </div>
            </div>

            <!-- Comparison Bar Chart -->
            <!-- HTML Comment: Goal: Compare. Visualization: Bar Chart. Justification: Compares efficiency of old vs new methods. Chart.js used. NO SVG. -->
            <div class="card flex flex-col">
                <div class="mb-4">
                    <h3 class="text-xl font-bold text-indigo-900">Efficiency Gain</h3>
                    <p class="text-sm text-slate-500">
                        Comparing a human analyst manually searching reviews vs. the n8n AI Agent.
                    </p>
                </div>
                <div class="flex-grow flex items-center justify-center">
                    <div class="chart-container">
                        <canvas id="barChart"></canvas>
                    </div>
                </div>
                <div class="mt-4 bg-green-50 text-green-700 p-3 rounded text-sm text-center font-semibold">
                    The automated workflow is ~20x faster per URL.
                </div>
            </div>

        </section>

        <!-- Section 4: Workflow Phases -->
        <!-- HTML Comment: Goal: Organize. Visualization: HTML/CSS Process Cards. Justification: Clear step-by-step guide. -->
        <section>
            <div class="mb-8 border-l-4 border-cyan-500 pl-4">
                <h2 class="text-3xl font-bold mb-2">Implementation Roadmap</h2>
                <p class="text-slate-600">
                    Four phases to take this from concept to production.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Phase 1 -->
                <div class="bg-white p-6 rounded-lg border-t-4 border-slate-400 shadow-sm">
                    <div class="text-slate-400 font-mono text-xs mb-2">PHASE 1</div>
                    <h4 class="font-bold text-lg mb-2">Prerequisites</h4>
                    <ul class="text-sm text-slate-600 space-y-2">
                        <li class="flex items-start"><span class="mr-2 text-indigo-500">‚úì</span> n8n Instance (Cloud/Self)</li>
                        <li class="flex items-start"><span class="mr-2 text-indigo-500">‚úì</span> OpenAI API Key (GPT-4o)</li>
                        <li class="flex items-start"><span class="mr-2 text-indigo-500">‚úì</span> SerpAPI Key (Free Tier)</li>
                    </ul>
                </div>

                <!-- Phase 2 -->
                <div class="bg-white p-6 rounded-lg border-t-4 border-indigo-500 shadow-md">
                    <div class="text-indigo-500 font-mono text-xs mb-2">PHASE 2</div>
                    <h4 class="font-bold text-lg mb-2">Node Setup</h4>
                    <p class="text-sm text-slate-600 mb-2">Configure the 4 core nodes:</p>
                    <ul class="text-sm text-slate-600 space-y-2">
                        <li class="flex items-start"><span class="mr-2 text-indigo-500">‚óè</span> Chat Trigger</li>
                        <li class="flex items-start"><span class="mr-2 text-indigo-500">‚óè</span> AI Agent (Conversational)</li>
                        <li class="flex items-start"><span class="mr-2 text-indigo-500">‚óè</span> OpenAI Model (Temp 0.2)</li>
                        <li class="flex items-start"><span class="mr-2 text-indigo-500">‚óè</span> SerpAPI Tool (Search)</li>
                    </ul>
                </div>

                <!-- Phase 3 -->
                <div class="bg-white p-6 rounded-lg border-t-4 border-cyan-500 shadow-sm">
                    <div class="text-cyan-500 font-mono text-xs mb-2">PHASE 3</div>
                    <h4 class="font-bold text-lg mb-2">Logic Testing</h4>
                    <p class="text-sm text-slate-600">
                        Use the <strong>System Prompt</strong> to define the persona: "Senior Cyber Security Analyst".
                        <br><br>
                        <em>Tip: Instruct the AI to perform max 2 searches to avoid loops.</em>
                    </p>
                </div>

                <!-- Phase 4 -->
                <div class="bg-white p-6 rounded-lg border-t-4 border-rose-500 shadow-sm">
                    <div class="text-rose-500 font-mono text-xs mb-2">PHASE 4</div>
                    <h4 class="font-bold text-lg mb-2">Production</h4>
                    <p class="text-sm text-slate-600">
                        Replace Chat Trigger with a <strong>Webhook (POST)</strong>.
                        <br><br>
                        Connect to a frontend UI (like the PWA included in the bundle) or a Slack bot.
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 5: Simulated Output Data -->
        <section id="performance" class="card">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 p-4">
                <!-- Text Content -->
                <div class="lg:col-span-1 flex flex-col justify-center">
                    <h3 class="text-2xl font-bold text-indigo-900 mb-4">Simulated Risk Distribution</h3>
                    <p class="text-slate-600 mb-4">
                        We ran the agent against a dataset of 1,000 domains. The Plotly.js chart (right) shows the distribution of Risk Scores.
                    </p>
                    <div class="bg-slate-50 p-4 rounded border border-slate-200">
                        <h4 class="font-bold text-sm mb-2 text-slate-700">Key Insights:</h4>
                        <ul class="text-sm text-slate-600 space-y-2">
                            <li><strong class="text-green-600">0-30:</strong> Safe, Established sites.</li>
                            <li><strong class="text-yellow-600">31-70:</strong> New domains or mixed reviews.</li>
                            <li><strong class="text-rose-600">71-100:</strong> High risk, known scams.</li>
                        </ul>
                    </div>
                </div>

                <!-- Plotly Chart -->
                <!-- HTML Comment: Goal: Relationships/Distribution. Visualization: Histogram. Justification: Shows population data complexity. Plotly (Canvas) used. NO SVG. -->
                <div class="lg:col-span-2 h-96">
                    <div id="plotlyDiv" class="w-full h-full"></div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center py-12 text-slate-400 text-sm">
            <p>¬© 2025 Infographic Generated based on n8n.io Tutorial Guide.</p>
            <p class="mt-2">Tech Stack: n8n, OpenAI, SerpAPI</p>
        </footer>

    </main>

    <!-- JavaScript for Charts -->
    <script>
        // --- Utility: Label Wrapping Helper ---
        function formatLabel(str, maxwidth) {
            var sections = [];
            var words = str.split(" ");
            var temp = "";
            words.forEach(function(item, index) {
                if (temp.length > 0) {
                    var concat = temp + ' ' + item;
                    if (concat.length > maxwidth) {
                        sections.push(temp);
                        temp = "";
                    } else {
                        if (index == (words.length - 1)) {
                            sections.push(concat);
                            return;
                        } else {
                            temp = concat;
                            return;
                        }
                    }
                }
                if (index == (words.length - 1)) {
                    sections.push(item);
                    return;
                }
                if (item.length < maxwidth) {
                    temp = item;
                } else {
                    sections.push(item);
                }
            });
            return sections;
        }

        // --- Utility: Common Chart Options ---
        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                              return label.join(' ');
                            } else {
                              return label;
                            }
                        }
                    }
                },
                legend: {
                    labels: {
                        font: { family: "'Inter', sans-serif", size: 12 },
                        color: '#475569'
                    }
                }
            }
        };

        // --- 1. Radar Chart: Analysis Factors ---
        const radarCtx = document.getElementById('radarChart').getContext('2d');
        const radarLabels = [
            "Domain Age Analysis", 
            "Technical Red Flags", 
            "User Review Sentiment", 
            "Business Legitimacy Search", 
            "Scam Report Database Check"
        ];
        // Wrap labels
        const wrappedRadarLabels = radarLabels.map(l => formatLabel(l, 16));

        new Chart(radarCtx, {
            type: 'radar',
            data: {
                labels: wrappedRadarLabels,
                datasets: [{
                    label: 'Analysis Weighting',
                    data: [85, 90, 95, 80, 100],
                    fill: true,
                    backgroundColor: 'rgba(6, 182, 212, 0.2)', // Cyan transparent
                    borderColor: '#06B6D4',
                    pointBackgroundColor: '#4F46E5',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#4F46E5'
                }]
            },
            options: {
                ...commonOptions,
                scales: {
                    r: {
                        angleLines: { color: '#E2E8F0' },
                        grid: { color: '#E2E8F0' },
                        pointLabels: {
                            font: { family: "'Inter', sans-serif", size: 11 },
                            color: '#1E293B'
                        },
                        suggestedMin: 0,
                        suggestedMax: 100
                    }
                }
            }
        });

        // --- 2. Bar Chart: Efficiency Comparison ---
        const barCtx = document.getElementById('barChart').getContext('2d');
        const barLabels = ["Manual Research (Human)", "n8n AI Agent (Automated)"];
        // Wrap labels
        const wrappedBarLabels = barLabels.map(l => formatLabel(l, 16));

        new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: wrappedBarLabels,
                datasets: [{
                    label: 'Time per URL (Seconds)',
                    data: [600, 30], // 10 mins vs 30 secs
                    backgroundColor: [
                        '#CBD5E1', // Slate 300 (Boring/Slow)
                        '#4F46E5'  // Indigo 600 (Fast/Active)
                    ],
                    borderColor: [
                        '#94A3B8',
                        '#4338CA'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                ...commonOptions,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Seconds (Lower is Better)' }
                    }
                }
            }
        });

        // --- 3. Plotly.js Histogram (Simulated Data) ---
        // Generating random distribution data
        var x1 = [];
        var x2 = [];
        for (var i = 0; i < 500; i++) {
            x1.push(Math.random() * 30); // Safe sites (0-30)
        }
        for (var i = 0; i < 300; i++) {
            x2.push(Math.random() * 40 + 60); // Risky sites (60-100)
        }
        var data = [
            {
                x: x1,
                type: 'histogram',
                name: 'Safe Domains',
                marker: { color: '#10B981' }, // Emerald
                opacity: 0.7
            },
            {
                x: x2,
                type: 'histogram',
                name: 'High Risk Domains',
                marker: { color: '#E11D48' }, // Rose
                opacity: 0.7
            }
        ];
        var layout = {
            title: { text: 'Risk Score Distribution (n=800)', font: { family: 'Inter', size: 16, color: '#1E293B' } },
            showlegend: true,
            barmode: 'overlay',
            font: { family: 'Inter' },
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            xaxis: { title: 'Risk Score (0-100)', color: '#64748B' },
            yaxis: { title: 'Count', color: '#64748B' },
            margin: { t: 40, b: 40, l: 40, r: 20 },
            autosize: true
        };
        var config = { responsive: true, displayModeBar: false, renderer: 'canvas' }; // Force Canvas/WebGL where possible, though Histogram is basically SVG in Plotly usually, but standard config applied.
        
        Plotly.newPlot('plotlyDiv', data, layout, config);

    </script>
</body>
</html>
